template = record:
  value_t: ref
  get_fn: ref
  pick_fn: ref
