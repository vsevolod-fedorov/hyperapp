template = record:
  d: ref
  view_t: ref
  is_wrapper: bool
  system_fn: ref
