template = record:
  d: ref
  view_t: ref
  is_wrapper: bool
  view_ctx_params: string list
  system_fn: ref
