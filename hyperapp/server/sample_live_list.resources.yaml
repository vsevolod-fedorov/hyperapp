import:
  - legacy_module.server.sample_live_list
  - legacy_service.mosaic
  - legacy_service.peer_registry
  - legacy_service.rpc_call_factory
  - legacy_service.server_identity
  - legacy_service.server_rpc_endpoint
  - legacy_type.attribute.attribute
  - legacy_type.partial.partial
  - legacy_type.call.call
  - legacy_type.resource_rpc_command.rpc_command
  - legacy_type.resource_service.live_list_service
  - legacy_type.sample_list.sample_live_list_d

definitions:

  executor_factory:
    _type: legacy_type.attribute.attribute
    object: legacy_module.server.sample_live_list
    attr_name: executor

  executor:
    _type: legacy_type.call.call
    function: executor_factory

  list_servant_ctr:
    _type: legacy_type.attribute.attribute
    object: legacy_module.server.sample_live_list
    attr_name: LiveListServant

  list_servant_factory:
    _type: legacy_type.partial.partial
    function: list_servant_ctr
    params:
      mosaic: legacy_service.mosaic
      peer_registry: legacy_service.peer_registry
      rpc_call_factory: legacy_service.rpc_call_factory
      identity: legacy_service.server_identity
      rpc_endpoint: legacy_service.server_rpc_endpoint
      executor: executor

  list_servant:
    _type: legacy_type.call.call
    function: list_servant_factory

  list_servant_list_method:
    _type: legacy_type.attribute.attribute
    object: list_servant
    attr_name: list

  list_servant_raw_method:
    _type: legacy_type.attribute.attribute
    object: list_servant
    attr_name: raw

  list_servant_describe_method:
    _type: legacy_type.attribute.attribute
    object: list_servant
    attr_name: describe

  raw_command:
    _type: legacy_type.resource_rpc_command.rpc_command
    identity: legacy_service.server_identity
    function: list_servant_raw_method
    state_attributes: ['current_key']
    name: raw

  describe_command:
    _type: legacy_type.resource_rpc_command.rpc_command
    identity: legacy_service.server_identity
    function: list_servant_describe_method
    state_attributes: ['current_key']
    name: describe

  sample_live_list_d:
    _type: legacy_type.call.call
    function: legacy_type.sample_list.sample_live_list_d

  sample_list_service:
    _type: legacy_type.resource_service.live_list_service
    identity: legacy_service.server_identity
    function: list_servant_list_method
    dir: sample_live_list_d
    key_attribute: key
    commands:
      - raw_command
      - describe_command
